# Modern Single-Line Starship Prompt
# https://starship.rs/config/

# Performance optimizations
command_timeout = 1000
scan_timeout = 30

# Minimal spacing
add_newline = true

# Single-line format - clean and modern
format = """
$username$hostname$sudo$directory${custom.cmake_project_version}$package$git_branch$git_status$git_state\
$nodejs$deno$python$rust$golang$java$cmake${custom.make}\
$docker_context$container$battery$cmd_duration$jobs$status
$character"""

# Simple continuation
continuation_prompt = "â–¶â–¶ "

[character]
success_symbol = "[â¯](bold green)"
error_symbol = "[â¯](bold red)"
vicmd_symbol = "[â®](bold yellow)"

[username]
style_user = "bold cyan"
style_root = "bold red"
format = "[$user]($style) "
disabled = false
show_always = false  # Only show in SSH sessions

[hostname]
ssh_only = true  # Only show hostname when connected via SSH
format = "via [î¬ $hostname](bold purple) "
disabled = false

[directory]
truncation_length = 3
truncate_to_repo = true
style = "bold blue"
read_only = " ğŸ”’"
format = "in [$path]($style)[$read_only]($read_only_style) "
home_symbol = "~"

[git_branch]
symbol = "î‚  "
style = "bold purple"
format = "on [$symbol$branch]($style) "

[git_status]
format = '([\[$all_status$ahead_behind\]]($style) )'
style = "bold yellow"
conflicted = "ğŸ³"
ahead = "â‡¡${count}"
behind = "â‡£${count}"
diverged = "â‡•â‡¡${ahead_count}â‡£${behind_count}"
untracked = "?${count}"
stashed = "ğŸ“¦"
modified = "!${count}"
staged = "+${count}"
renamed = "Â»${count}"
deleted = "âœ˜${count}"

[git_state]
format = '\([$state( $progress_current/$progress_total)]($style)\) '
style = "bright-black"

[git_commit]
commit_hash_length = 7
tag_symbol = "ğŸ· "
disabled = true

# Language modules - compact format
[nodejs]
symbol = "îœ˜ "
format = "via [$symbol$version]($style) "
style = "bold green"
detect_files = ["package.json", ".node-version", ".nvmrc"]

[python]
symbol = "î˜† "
format = 'via [$symbol$version( \($virtualenv\))]($style) '
style = "bold yellow"
detect_files = ["requirements.txt", ".python-version", "pyproject.toml", "Pipfile", "setup.py", "tox.ini"]

[rust]
symbol = "î¨ "
format = "via [$symbol$version]($style) "
style = "bold red"
detect_files = ["Cargo.toml", "Cargo.lock"]

[golang]
symbol = "î˜§ "
format = "via [$symbol$version]($style) "
style = "bold cyan"
detect_files = ["go.mod", "go.sum"]

[java]
symbol = "î‰– "
format = "via [$symbol$version]($style) "
style = "bold red"
detect_files = ["pom.xml", "build.gradle.kts", "build.gradle"]

[cmake]
symbol = "î” "
format = "via [$symbol$version]($style) "
style = "bold blue"
detect_files = ["CMakeLists.txt"]

[deno]
symbol = "îŸ€ "
format = "via [$symbol$version]($style) "
style = "bold green"
detect_files = ["deno.json", "deno.jsonc", "deno.lock", "import_map.json"]

[custom.make]
description = "make"
command = "true"
detect_files = ["Makefile", "makefile", "GNUmakefile"]
format = "via [î™³]($style) "
style = "bold 214"

[custom.cmake_project_version]
description = "CMake project version (from CMakeLists.txt)"
detect_files = ["CMakeLists.txt"]
command = "python3 -c 'import re,sys,pathlib; p=pathlib.Path(\"CMakeLists.txt\"); s=p.read_text(encoding=\"utf-8\", errors=\"ignore\"); s=re.sub(r\"#.*\", \"\", s); m=re.search(r\"\\bproject\\s*\\(.*?\\bVERSION\\s+([0-9]+(?:\\.[0-9]+)*)\", s, flags=re.IGNORECASE|re.DOTALL);\\\nprint(m.group(1)) if m else sys.exit(1)'"
format = "[$symbol$output]($style) "
symbol = "ó°— v"
style = "bold 208"

[docker_context]
symbol = "ïŒˆ "
format = "via [$symbol$context]($style) "
style = "bold blue"
only_with_files = true

[package]
symbol = "ó°— "
format = "[$symbol$version]($style) "
style = "bold 208"
display_private = false

[cmd_duration]
min_time = 2_000
format = "took [$duration]($style) "
style = "bold yellow"
show_milliseconds = false

[jobs]
symbol = "âœ¦"
number_threshold = 1
symbol_threshold = 1
format = "[$symbol$number]($style) "
style = "bold blue"

[status]
disabled = false
format = '[\[$symbol$status\]]($style) '
symbol = "âœ–"
style = "bold red"

[battery]
full_symbol = "ğŸ”‹"
charging_symbol = "âš¡"
discharging_symbol = "ğŸ’€"
disabled = false

[[battery.display]]
threshold = 20
style = "bold red"

[sudo]
disabled = false
symbol = "ó°Œ¾ "
format = "as [$symbol]($style) "
style = "bold red"

[memory_usage]
disabled = false
threshold = 75
symbol = "ğŸ "
style = "bold dimmed white"
format = "[$symbol$ram]($style) "

[container]
format = '[$symbol \[$name\]]($style) '
style = "red bold dimmed"
symbol = "ï’·"

# Optional modules (disabled by default)
[time]
disabled = true
format = 'at [$time]($style) '
style = "bold white"

[kubernetes]
disabled = true

[terraform]
disabled = true
